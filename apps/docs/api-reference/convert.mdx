---
title: "Convert File"
openapi: "POST /api/convert"
description: "Convert media and document files between different formats with enhanced support"
---

This endpoint allows you to convert uploaded files to a variety of target formats. The system supports **65 different conversion pairs** with specialized processing for different file types.

## Enhanced Features

### GIF Processing

- **Frame Extraction**: Automatically extracts first frame from animated GIFs
- **Multiple Outputs**: GIF converts to PNG, JPG, AVIF, and PDF
- **Optimized FFmpeg**: Uses specific parameters for reliable processing

### Text-to-Image Conversion

- **Canvas Rendering**: Text and markdown files convert to images
- **Format Support**: `.txt` and `.md` files with proper layout
- **Output Options**: JPG and PNG image generation

### Performance Optimizations

- **Fast Presets**: Format-specific encoding optimizations
- **Memory Management**: Efficient processing with cleanup
- **Timeout Handling**: Configurable time limits per format

## Examples

<CodeGroup>
```bash filename="video-conversion" cURL
# Convert video to MP4
curl -X POST http://localhost:3000/api/convert \
  -F "file=@video.webm" \
  -F "format=mp4"

# Convert GIF to PNG

curl -X POST http://localhost:3000/api/convert \
 -F "file=@animation.gif" \
 -F "format=png"

# Convert text to image

curl -X POST http://localhost:3000/api/convert \
 -F "file=@document.md" \
 -F "format=jpg"

````

```javascript filename="javascript-example" JavaScript
const formData = new FormData();
formData.append("file", fileInput.files[0]);
formData.append("format", "mp4");

const response = await fetch("/api/convert", {
  method: "POST",
  body: formData,
});

if (response.ok) {
  const result = await response.json();
  if (result.success) {
    // Convert base64 to blob
    const binaryString = atob(result.data);
    const bytes = new Uint8Array(binaryString.length);
    for (let i = 0; i < binaryString.length; i++) {
      bytes[i] = binaryString.charCodeAt(i);
    }
    const blob = new Blob([bytes], { type: result.contentType });

    // Create download link
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = result.filename;
    a.click();
  }
} else {
  console.error('Conversion failed:', result.error);
}
````

</CodeGroup>

## Error Handling

### Common Error Types

<Accordion>
  <AccordionItem title="Unsupported Format">
    ```json
    {"error": "Cannot convert GIF to PDF directly via document task."}
    ```
  </AccordionItem>
  
  <AccordionItem title="FFmpeg Processing Error">
    ```json
    {"error": "Incompatible or invalid conversion: FFmpeg failed: ffmpeg exited with code 234"}
    ```
  </AccordionItem>
</Accordion>
